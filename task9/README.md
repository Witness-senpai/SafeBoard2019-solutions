# Задание 9

Светлана - популярная писательница. Каждый день она пишет несколько страниц своей книги, печатает их на принтере и отдает редактору Ивану. Иван не любит бумажные документы, а переубедить Светлану отправлять тексты в электронном виде у него не выходит. Но мириться с не удобствами он не желает. Иван поставил Светлане сниффер на сетевой кабель между ноутбуком и принтером. Теперь он может видеть сообщения отправленные с ноутбука на принтер в виде потока байт. Чтобы разобраться в полученных данных, Иван нагуглил документацию протокола принтера:

## Описание протокола Printer X100500

1. Структура сообщения

__[тип сообщения][длина тела][тело][контрольная сумма]__

* тип сообщения - 1 байт, говорит что делать принтеру
* длина тела - 1 байт
* тело - разная длина, содержание зависит от типа сообщения
* контрольная сумма - 1 байт, для проверки целостности сообщения

2. Типы сообщений

`0x01` - добавить текст
Добавляет строку в конец буфера принтера. В теле сообщения содержится искомая строка. Кодировку строки определяет сообщение `0x04`. По умолчанию - UTF-8.

`0x02` - удалить последний символ
Удаляет последний символ из буфера принтера.

`0x03` - продублировать последний символ
Берет последний символ из буфера принтера и добавляет в конец такой же.

`0x04` - сменить кодировку
Переключает кодировку текста для всех следующих сообщений `0x01`. В теле сообщения содержится 1 байт, определяющий кодировку:

   `0x00` - UTF-8

   `0x01` - Windows 1251

`0x05` - напечатать страницу
Печатает весь текст из буфера принтера на бумажную страницу.

Вычисляется из всех данных сообщения, кроме байта самой контрольной суммы:

__[тип сообщения][длина тела][тело]__ -> алгоритм -> контрольная сумма

3. Контрольная сумма

Алгоритм складывает входные байты и берет остаток от деления на 8. Все сообщения с неправильной контрольной суммой отбрасываются принтером.

_Примечание: предполагается, что сообщения не могут содержать ошибки в данных приводящие к изменению длины сообщения._


Теперь Ивану нужно научиться автоматически получать печатаемую страницу.
Напишите алгоритм, который бы выполнил такую задачу.


**Входные данные (Input):** 

Подаются HEX-строкой.

**Выходные данные (Output):** 

Ожидаются строкой.

**Sample Input:**

0130D0ADD182D0B8D0BC20D0B6D0B0D180D0BAD0B8D0BC20D0B8D18ED0BBD18CD181D0BAD0B8D0BC20D0B4D0BDD191D0BC2000040101060130C0EDF2F3E0EDE5F2F2E020E2FBF8EBE020EDE020EFF0EEE3F3EBEAF32C20EAE0EA20E2F1E5E3E4E02C20F0E0EDEE2E20050119CEEDE020F1EFF3F1F2E8EBEEF1FC20EA20E1E5F0E5E3F32C200D0300030101660002000204010005020002012DD09ED0BDD0B020D181D0BFD183D181D182D0B8D0BBD0B0D181D18C20D0BA20D0B1D0B5D180D0B5D0B3D1832C200602000F014DD0BFD180D0BED188D0BBD0B0D181D18C20D0BFD0BE20D0BFD0BBD18FD0B6D18320D0B820D0BDD0B0D0BFD180D0B0D0B2D0B8D0BBD0B0D181D18C20D0B220D181D182D0BED180D0BED0BDD18320060122D0B1D0BBD0B8D0B6D0B0D0B9D188D0B5D0B920D0BAD0B0D184D0B5D0B9D0BDD0B82E120122D0B1D0BBD0B8D0B6D0B0D0B9D188D0B5D0B920D0BAD0BED184D0B5D0B9D0BDD0B82E03050005

**Sample Output:**

Этим жарким июльским днём Антуанетта вышла на прогулку, как всегда, рано. Она спустилась к берегу, прошлась по пляжу и направилась в сторону ближайшей кофейни.
​​​​​​
